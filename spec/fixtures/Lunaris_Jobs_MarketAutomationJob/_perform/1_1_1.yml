---
http_interactions:
- request:
    method: post
    uri: https://lambda.eu-west-2.amazonaws.com/2015-03-31/functions/Lunaris/invocations
    body:
      encoding: UTF-8
      string: '{"lambda":{"class":"Clients::Binance","method":"candlestick"},"interval":"1h","limit":50,"symbol":"BTCUSDT"}'
    headers:
      Accept-Encoding:
      - ''
      Amz-Sdk-Invocation-Id:
      - 78f1c75f-0d91-4b55-9be5-25219d40f247
      X-Amz-Invocation-Type:
      - RequestResponse
      X-Amz-Log-Type:
      - Tail
      Content-Type:
      - application/octet-stream
      Host:
      - lambda.eu-west-2.amazonaws.com
      X-Amz-Date:
      - 20250422T102118Z
      X-Amz-Content-Sha256:
      - b79ce4656e8e357fabfeae2e9623b9cc09a21027b175805ea1e37eb606e5ac48
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20250422/eu-west-2/lambda/aws4_request,
        SignedHeaders=amz-sdk-invocation-id;content-type;host;x-amz-content-sha256;x-amz-date;x-amz-invocation-type;x-amz-log-type,
        Signature=f743aaf47019290f81d0dfa4078c759efef8570df2bb8e1ea3181fba93a5c99e
      User-Agent:
      - aws-sdk-ruby3/3.222.2 ua/2.1 api/lambda#1.148.0 os/macos#22 md/x86_64 lang/ruby#2.7.6
        md/2.7.6 m/Z,b,D,n
      Content-Length:
      - '108'
      Accept:
      - "*/*"
      Sentry-Trace:
      - 474fb18888ee41aca0d91d2e0fdd9160-95b881e1325d4871
      Baggage:
      - sentry-trace_id=474fb18888ee41aca0d91d2e0fdd9160,sentry-environment=test
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 21 Apr 2025 18:51:20 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '8849'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 599a8055-a324-4c29-a218-944c406787e7
      X-Amzn-Remapped-Content-Length:
      - '0'
      X-Amz-Executed-Version:
      - "$LATEST"
      X-Amz-Log-Result:
      - U1RBUlQgUmVxdWVzdElkOiA1OTlhODA1NS1hMzI0LTRjMjktYTIxOC05NDRjNDA2Nzg3ZTcgVmVyc2lvbjogJExBVEVTVAovdmFyL3Rhc2svdmVuZG9yL2J1bmRsZS9ydWJ5LzMuMi4wL2dlbXMvbG9nZ2VyLTEuNy4wL2xpYi9sb2dnZXIucmI6Njc3OiB3YXJuaW5nOiBMb2dnZXIgbm90IGluaXRpYWxpemVkIHByb3Blcmx5Ci92YXIvcnVudGltZS9saWIvcnVudGltZS5yYjoyNjogaW5mbzogTG9nZ2VyUGF0Y2gjaW5pdGlhbGl6ZTogZG9lcyBub3QgY2FsbCBzdXBlciBwcm9iYWJseQpJLCBbMjAyNS0wNC0yMlQxMDoyMToyMC4yMzUxNTcgIzhdICBJTkZPIDU5OWE4MDU1LWEzMjQtNGMyOS1hMjE4LTk0NGM0MDY3ODdlNyAtLSA6IEJpbmFuY2UgQVBJIHJlc3BvbnNlIGZvciBCVENVU0RUOiBIVFRQIDIwMApFTkQgUmVxdWVzdElkOiA1OTlhODA1NS1hMzI0LTRjMjktYTIxOC05NDRjNDA2Nzg3ZTcKUkVQT1JUIFJlcXVlc3RJZDogNTk5YTgwNTUtYTMyNC00YzI5LWEyMTgtOTQ0YzQwNjc4N2U3CUR1cmF0aW9uOiA2NDYuNDcgbXMJQmlsbGVkIER1cmF0aW9uOiA2NDcgbXMJTWVtb3J5IFNpemU6IDEyOCBNQglNYXggTWVtb3J5IFVzZWQ6IDc1IE1CCUluaXQgRHVyYXRpb246IDYwNy42OSBtcwkK
      X-Amzn-Trace-Id:
      - Root=1-68076d9f-087edabc250ff59706424e57;Parent=6ee12b79b3c0323e;Sampled=0;Lineage=1:971add7d:0
    body:
      encoding: UTF-8
      string: '{"statusCode":200,"body":[{"unix_timestamp":1745139600000.0,"open_price":84647.3,"high_price":84647.31,"low_price":84453.77,"close_price":84551.14,"volume":351.30667,"date":"2025-04-20
        09:00:00 +0000"},{"unix_timestamp":1745143200000.0,"open_price":84551.15,"high_price":84551.15,"low_price":84000.0,"close_price":84184.03,"volume":844.03623,"date":"2025-04-20
        10:00:00 +0000"},{"unix_timestamp":1745146800000.0,"open_price":84184.02,"high_price":84259.94,"low_price":83949.52,"close_price":84129.83,"volume":451.2566,"date":"2025-04-20
        11:00:00 +0000"},{"unix_timestamp":1745150400000.0,"open_price":84129.82,"high_price":84488.85,"low_price":84099.3,"close_price":84365.56,"volume":609.96744,"date":"2025-04-20
        12:00:00 +0000"},{"unix_timestamp":1745154000000.0,"open_price":84365.55,"high_price":84465.66,"low_price":84151.03,"close_price":84315.21,"volume":297.68348,"date":"2025-04-20
        13:00:00 +0000"},{"unix_timestamp":1745157600000.0,"open_price":84315.21,"high_price":84664.0,"low_price":84251.58,"close_price":84626.16,"volume":380.00648,"date":"2025-04-20
        14:00:00 +0000"},{"unix_timestamp":1745161200000.0,"open_price":84626.16,"high_price":84630.99,"low_price":84300.0,"close_price":84344.66,"volume":433.36249,"date":"2025-04-20
        15:00:00 +0000"},{"unix_timestamp":1745164800000.0,"open_price":84344.65,"high_price":84622.76,"low_price":84272.74,"close_price":84604.11,"volume":328.38904,"date":"2025-04-20
        16:00:00 +0000"},{"unix_timestamp":1745168400000.0,"open_price":84604.1,"high_price":84623.0,"low_price":84451.68,"close_price":84581.98,"volume":161.24385,"date":"2025-04-20
        17:00:00 +0000"},{"unix_timestamp":1745172000000.0,"open_price":84581.98,"high_price":84636.9,"low_price":84467.94,"close_price":84577.78,"volume":139.94271,"date":"2025-04-20
        18:00:00 +0000"},{"unix_timestamp":1745175600000.0,"open_price":84577.79,"high_price":84664.09,"low_price":84521.73,"close_price":84651.61,"volume":139.48309,"date":"2025-04-20
        19:00:00 +0000"},{"unix_timestamp":1745179200000.0,"open_price":84651.61,"high_price":85250.0,"low_price":84616.73,"close_price":85127.58,"volume":693.63733,"date":"2025-04-20
        20:00:00 +0000"},{"unix_timestamp":1745182800000.0,"open_price":85127.58,"high_price":85244.02,"low_price":84913.04,"close_price":85009.27,"volume":276.81879,"date":"2025-04-20
        21:00:00 +0000"},{"unix_timestamp":1745186400000.0,"open_price":85009.27,"high_price":85031.19,"low_price":84669.73,"close_price":84835.28,"volume":272.57238,"date":"2025-04-20
        22:00:00 +0000"},{"unix_timestamp":1745190000000.0,"open_price":84835.28,"high_price":85298.0,"low_price":84835.28,"close_price":85179.24,"volume":422.92944,"date":"2025-04-20
        23:00:00 +0000"},{"unix_timestamp":1745193600000.0,"open_price":85179.24,"high_price":87010.0,"low_price":85144.76,"close_price":86625.68,"volume":3732.36432,"date":"2025-04-21
        00:00:00 +0000"},{"unix_timestamp":1745197200000.0,"open_price":86625.69,"high_price":87450.0,"low_price":86625.68,"close_price":87293.07,"volume":2940.48179,"date":"2025-04-21
        01:00:00 +0000"},{"unix_timestamp":1745200800000.0,"open_price":87293.08,"high_price":87640.0,"low_price":87116.51,"close_price":87350.01,"volume":1834.30291,"date":"2025-04-21
        02:00:00 +0000"},{"unix_timestamp":1745204400000.0,"open_price":87350.0,"high_price":87612.0,"low_price":87156.05,"close_price":87205.56,"volume":1026.18836,"date":"2025-04-21
        03:00:00 +0000"},{"unix_timestamp":1745208000000.0,"open_price":87205.56,"high_price":87390.54,"low_price":87038.0,"close_price":87351.14,"volume":806.69672,"date":"2025-04-21
        04:00:00 +0000"},{"unix_timestamp":1745211600000.0,"open_price":87351.13,"high_price":87738.0,"low_price":87323.55,"close_price":87550.0,"volume":819.12232,"date":"2025-04-21
        05:00:00 +0000"},{"unix_timestamp":1745215200000.0,"open_price":87550.0,"high_price":87695.66,"low_price":87370.32,"close_price":87521.73,"volume":603.57534,"date":"2025-04-21
        06:00:00 +0000"},{"unix_timestamp":1745218800000.0,"open_price":87521.74,"high_price":87621.62,"low_price":87333.33,"close_price":87434.78,"volume":630.34326,"date":"2025-04-21
        07:00:00 +0000"},{"unix_timestamp":1745222400000.0,"open_price":87434.79,"high_price":87699.0,"low_price":87416.85,"close_price":87569.28,"volume":471.87477,"date":"2025-04-21
        08:00:00 +0000"},{"unix_timestamp":1745226000000.0,"open_price":87569.28,"high_price":87795.26,"low_price":87300.0,"close_price":87516.05,"volume":1050.03827,"date":"2025-04-21
        09:00:00 +0000"},{"unix_timestamp":1745229600000.0,"open_price":87516.05,"high_price":87577.0,"low_price":87250.0,"close_price":87347.83,"volume":619.7016,"date":"2025-04-21
        10:00:00 +0000"},{"unix_timestamp":1745233200000.0,"open_price":87347.82,"high_price":87351.04,"low_price":86644.29,"close_price":86971.92,"volume":1164.29091,"date":"2025-04-21
        11:00:00 +0000"},{"unix_timestamp":1745236800000.0,"open_price":86971.92,"high_price":87538.46,"low_price":86962.46,"close_price":87038.71,"volume":871.3383,"date":"2025-04-21
        12:00:00 +0000"},{"unix_timestamp":1745240400000.0,"open_price":87038.71,"high_price":87575.21,"low_price":86779.97,"close_price":87028.09,"volume":1660.3259,"date":"2025-04-21
        13:00:00 +0000"},{"unix_timestamp":1745244000000.0,"open_price":87028.08,"high_price":88465.99,"low_price":86943.39,"close_price":88208.37,"volume":3876.26378,"date":"2025-04-21
        14:00:00 +0000"},{"unix_timestamp":1745247600000.0,"open_price":88208.37,"high_price":88329.49,"low_price":87862.93,"close_price":88044.8,"volume":1920.55832,"date":"2025-04-21
        15:00:00 +0000"},{"unix_timestamp":1745251200000.0,"open_price":88044.81,"high_price":88270.88,"low_price":87052.18,"close_price":87176.96,"volume":1565.63292,"date":"2025-04-21
        16:00:00 +0000"},{"unix_timestamp":1745254800000.0,"open_price":87176.97,"high_price":87319.69,"low_price":86389.78,"close_price":86847.39,"volume":2005.35325,"date":"2025-04-21
        17:00:00 +0000"},{"unix_timestamp":1745258400000.0,"open_price":86847.38,"high_price":87047.45,"low_price":86637.47,"close_price":86786.29,"volume":835.76683,"date":"2025-04-21
        18:00:00 +0000"},{"unix_timestamp":1745262000000.0,"open_price":86786.29,"high_price":87488.0,"low_price":86712.5,"close_price":87415.1,"volume":1154.45036,"date":"2025-04-21
        19:00:00 +0000"},{"unix_timestamp":1745265600000.0,"open_price":87415.09,"high_price":87440.5,"low_price":87144.69,"close_price":87367.92,"volume":445.85734,"date":"2025-04-21
        20:00:00 +0000"},{"unix_timestamp":1745269200000.0,"open_price":87367.92,"high_price":87385.94,"low_price":86887.15,"close_price":87275.0,"volume":492.56287,"date":"2025-04-21
        21:00:00 +0000"},{"unix_timestamp":1745272800000.0,"open_price":87275.01,"high_price":87282.75,"low_price":86928.74,"close_price":87168.08,"volume":469.52485,"date":"2025-04-21
        22:00:00 +0000"},{"unix_timestamp":1745276400000.0,"open_price":87168.08,"high_price":87625.68,"low_price":87030.65,"close_price":87516.23,"volume":776.75733,"date":"2025-04-21
        23:00:00 +0000"},{"unix_timestamp":1745280000000.0,"open_price":87516.22,"high_price":87731.81,"low_price":87076.03,"close_price":87709.85,"volume":1336.03829,"date":"2025-04-22
        00:00:00 +0000"},{"unix_timestamp":1745283600000.0,"open_price":87709.86,"high_price":88877.0,"low_price":87513.87,"close_price":88400.01,"volume":2420.38751,"date":"2025-04-22
        01:00:00 +0000"},{"unix_timestamp":1745287200000.0,"open_price":88400.0,"high_price":88684.43,"low_price":87896.8,"close_price":88169.21,"volume":1117.66736,"date":"2025-04-22
        02:00:00 +0000"},{"unix_timestamp":1745290800000.0,"open_price":88169.21,"high_price":88282.06,"low_price":87826.08,"close_price":88157.55,"volume":1074.60544,"date":"2025-04-22
        03:00:00 +0000"},{"unix_timestamp":1745294400000.0,"open_price":88157.55,"high_price":88368.83,"low_price":88021.73,"close_price":88056.79,"volume":677.78988,"date":"2025-04-22
        04:00:00 +0000"},{"unix_timestamp":1745298000000.0,"open_price":88056.79,"high_price":88413.12,"low_price":87953.86,"close_price":88391.27,"volume":539.11056,"date":"2025-04-22
        05:00:00 +0000"},{"unix_timestamp":1745301600000.0,"open_price":88391.27,"high_price":88459.03,"low_price":88000.0,"close_price":88246.46,"volume":556.23716,"date":"2025-04-22
        06:00:00 +0000"},{"unix_timestamp":1745305200000.0,"open_price":88246.46,"high_price":88486.0,"low_price":88172.18,"close_price":88476.83,"volume":948.01204,"date":"2025-04-22
        07:00:00 +0000"},{"unix_timestamp":1745308800000.0,"open_price":88476.82,"high_price":88688.0,"low_price":88320.0,"close_price":88414.33,"volume":667.61336,"date":"2025-04-22
        08:00:00 +0000"},{"unix_timestamp":1745312400000.0,"open_price":88414.33,"high_price":88600.0,"low_price":88312.7,"close_price":88574.34,"volume":616.35026,"date":"2025-04-22
        09:00:00 +0000"},{"unix_timestamp":1745316000000.0,"open_price":88574.33,"high_price":88596.97,"low_price":88488.0,"close_price":88538.33,"volume":157.8931,"date":"2025-04-22
        10:00:00 +0000"}]}'
  recorded_at: Mon, 21 Apr 2025 18:51:20 GMT
- request:
    method: post
    uri: https://lambda.eu-west-2.amazonaws.com/2015-03-31/functions/NextGen/invocations
    body:
      encoding: UTF-8
      string: '{"lambda":{"class":"Clients::Binance","method":"candlestick"},"interval":"1h","limit":50,"symbol":"BTCUSDT"}'
    headers:
      Accept-Encoding:
      - ''
      Amz-Sdk-Invocation-Id:
      - 32c8aa4b-71da-4902-9365-c729d2812a44
      X-Amz-Invocation-Type:
      - RequestResponse
      X-Amz-Log-Type:
      - Tail
      Content-Type:
      - application/octet-stream
      Host:
      - lambda.eu-west-2.amazonaws.com
      X-Amz-Date:
      - 20250617T134821Z
      X-Amz-Content-Sha256:
      - b79ce4656e8e357fabfeae2e9623b9cc09a21027b175805ea1e37eb606e5ac48
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AWS_ACCESS_KEY_ID/20250617/eu-west-2/lambda/aws4_request,
        SignedHeaders=amz-sdk-invocation-id;content-type;host;x-amz-content-sha256;x-amz-date;x-amz-invocation-type;x-amz-log-type,
        Signature=a803806377d52a3bfe2d5574e3dafa8ba02ee251c2dc39c162895c74b8d7c831
      User-Agent:
      - aws-sdk-ruby3/3.222.2 ua/2.1 api/lambda#1.148.0 os/macos#22 md/x86_64 lang/ruby#2.7.6
        md/2.7.6 m/Z,b,D,n
      Content-Length:
      - '108'
      Accept:
      - "*/*"
  response:
    status:
      code: 403
      message: Forbidden
    headers:
      Date:
      - Tue, 17 Jun 2025 13:48:21 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '68'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - b221881e-8df4-49d6-b39e-2496e19fb76b
      X-Amzn-Errortype:
      - UnrecognizedClientException
    body:
      encoding: UTF-8
      string: '{"message":"The security token included in the request is invalid."}'
  recorded_at: Tue, 17 Jun 2025 13:48:21 GMT
recorded_with: VCR 6.1.0
